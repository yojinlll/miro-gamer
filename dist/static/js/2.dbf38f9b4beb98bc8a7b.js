webpackJsonp([2],{MHtN:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Dd8w"),r=i.n(n),a=i("NYxO"),s=i("JnRc"),u=i.n(s),o=i("n05h"),c=u.a.User.current(),v={name:"gamer-product",data:function(){return{evaluation:[],currentProduct:null,number:0,showImg:null,activeNames:"1"}},computed:r()({},Object(a.d)(["category"])),mounted:function(){this.getCurrentProduct(),this.getProductEvaluation()},methods:r()({},Object(a.b)(["getAllProduct"]),{getCurrentProduct:function(){var t=this,e=this.$router.currentRoute.query.id;this.category.allProduct&&this.category.allProduct.forEach(function(i){i.productId===e&&(t.currentProduct=i)})},getProductEvaluation:function(){var t=this,e=this.$router.currentRoute.query.id,i=new u.a.Query("Evaluation");i.equalTo("id",e),i.find().then(function(e){t.evaluation=e[0].attributes.userEvaluation})},selectImg:function(t){this.showImg=t},changeNumber:function(t){"reduce"===t?0!==this.number&&this.number--:this.number++},goCart:function(t){!0===this.addCart(t)&&setTimeout(function(){document.location.href="cart.html"},2500)},addCart:function(t){var e=this;if(0!==t){if(!c)return void this.$toast("购物前请先登录",{position:"middle",center:!0,autoClose:2e3});var i=(new Date).toLocaleString(),n=this.currentProduct.productId,a=r()({},this.currentProduct,{number:t,time:i}),s=[];c.attributes.cart&&(s=c.attributes.cart);var u=!1;return s.forEach(function(e){e.productId===n&&(u=!0,e.number=e.number+t,e.time=i)}),!1===u&&s.unshift(a),c.set("cart",s),c.save().then(function(){e.number=0,e.$toast("已添加到购物车",{position:"middle",center:!0,autoClose:2e3})}),!0}this.$toast("未选择购买数量",{position:"middle",center:!0,autoClose:2e3})}}),watch:{currentProduct:function(t){this.showImg=t.img[0]},category:{handler:function(){this.getCurrentProduct(),this.getProductEvaluation()},deep:!0}},components:{"gamer-loading":o.a}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.currentProduct?i("div",{staticClass:"product-wrapper"},[i("div",{staticClass:"product-info"},[i("div",{staticClass:"img-part"},[i("div",{staticClass:"img-main"},[i("img",{attrs:{src:t.showImg,alt:"show-product-img"}})]),t._v(" "),i("div",{staticClass:"img-list"},t._l(t.currentProduct.img,function(e){return i("div",{on:{click:function(i){return t.selectImg(e)}}},[i("img",{attrs:{src:e,alt:"product-img"}})])}),0)]),t._v(" "),i("div",{staticClass:"info-part"},[i("div",[t._v(t._s(t.currentProduct.name))]),t._v(" "),i("div",{staticClass:"price-info"},[t._v("\n        价格：\n        "),i("span",[t._v("￥"+t._s(t.currentProduct.price.toFixed(2)))])]),t._v(" "),i("div",{staticClass:"number-info"},[t._v("\n        数量：\n        "),i("span",{on:{click:function(e){return t.changeNumber("reduce")}}},[t._v("-")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.number,expression:"number"}],attrs:{type:"text"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value)}}}),t._v(" "),i("span",{on:{click:function(e){return t.changeNumber("add")}}},[t._v("+")])]),t._v(" "),i("div",{staticClass:"actions"},[i("miro-button-group",[i("miro-button",{on:{click:function(e){return t.goCart(t.number)}}},[t._v("立即购买")]),t._v(" "),i("miro-button",{on:{click:function(e){return t.addCart(t.number)}}},[t._v("添加购物车")])],1)],1)])]),t._v(" "),i("div",{staticClass:"product-detail"},[i("miro-tabs",{attrs:{select:t.activeNames},on:{"update:select":function(e){t.activeNames=e}}},[i("miro-tabs-head",{attrs:{slot:"head"},slot:"head"},[i("miro-tabs-item",{attrs:{name:"1"}},[t._v("商品详情")]),t._v(" "),i("miro-tabs-item",{attrs:{name:"2"}},[t._v("商品评价")])],1),t._v(" "),i("miro-tabs-pane",{staticClass:"tabs-details clearFix",attrs:{name:"1"}},[i("ul",{staticClass:"details-list"},[i("li",[t._v("品牌: XXXX")]),t._v(" "),i("li",[t._v("内存容量: 16G")]),t._v(" "),i("li",[t._v("售后服务: 全国联保")]),t._v(" "),i("li",[t._v("分辨率: 1920x1080")]),t._v(" "),i("li",[t._v("厚度: 20.0mm及以上")]),t._v(" "),i("li",[t._v("重量: 2.5kg及以上")]),t._v(" "),i("li",[t._v("是否触摸屏: 非触摸屏")]),t._v(" "),i("li",[t._v("是否超极本: 否")]),t._v(" "),i("li",[t._v("操作系统: windows 10")])]),t._v(" "),i("ul",{staticClass:"details-list"},[i("li",[t._v("通信技术类型: 无线网卡 蓝牙")]),t._v(" "),i("li",[t._v("是否PC平板二合一: 否")]),t._v(" "),i("li",[t._v("机械硬盘容量: 1TB")]),t._v(" "),i("li",[t._v("屏幕尺寸: 17.3英寸")]),t._v(" "),i("li",[t._v("显存容量: 8GB")]),t._v(" "),i("li",[t._v("固态硬盘: 256GB")]),t._v(" "),i("li",[t._v("CPU: 英特尔 酷睿 i7-8750H")]),t._v(" "),i("li",[t._v("屏幕比例: 16:9")]),t._v(" "),i("li",[t._v("屏幕刷新率: 144HZ")]),t._v(" "),i("li",[t._v("锂电池电芯数量: 6芯锂电池")])])]),t._v(" "),i("miro-tabs-pane",{attrs:{name:"2"}},[i("ul",{staticClass:"user-evaluation"},t._l(t.evaluation,function(e,n){return i("li",{key:n},[i("span",{staticClass:"username"},[t._v("\n              "+t._s(e.username)+":\n            ")]),t._v(" "),i("div",{staticClass:"content"},[t._v(t._s(e.text))]),t._v(" "),i("div",{staticClass:"time"},[t._v("—— "+t._s(e.time))])])}),0),t._v(" "),t.evaluation.length?t._e():i("div",{staticStyle:{"line-height":"100px","text-align":"center"}},[t._v("空")])])],1)],1)]):t._e()},staticRenderFns:[]};var d=i("VU/8")(v,l,!1,function(t){i("vYbz")},"data-v-e369ac46",null);e.default=d.exports},vYbz:function(t,e){}});
//# sourceMappingURL=2.dbf38f9b4beb98bc8a7b.js.map